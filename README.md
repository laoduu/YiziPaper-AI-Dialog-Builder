# YiziPaper-AI-Dialog-Builder
AI 写作开发者专属对话测试工具 | 支持多模型 / 多 Prompt / 多上下文组合调试，纯 HTML+JS 本地运行，无需注册、无云依赖、完全开源，数据安全可控。AI 辅助编程开发，让 AI 写作测试更简单高效 📝

![截图](top.jpg)

## 为什么会有这么个模拟器？
作为一名AI写作开发者，我需要频繁测试不同模型、不同prompt以及不同上下文组合的AI写作效果。市面上的工具要么功能单一，要么操作繁琐，始终找不到趁手的测试工具。

于是我决定用AI辅助编程（AI Coding）手搓一个：从需求分析到代码实现，全程与AI协作完成。这个小工具的最大特色是：基于纯HTML+JS本地运行，无需注册、无需云服务、完全开源，数据安全可控。

希望它能成为AI写作开发者的得力助手，让测试和调试变得更简单高效。

## 主要功能
- 创建和编辑多轮AI对话（用户、AI助手、系统角色）
- 支持多种AI模型提供商（包括智谱AI等）
- 生成AI回复和思维链（深度思考）
- 导出对话为JSON格式，用于大模型平台
- 自动保存和管理对话历史记录
- 支持对话存档的导入和导出
- 支持深色/浅色主题切换

## 使用方法

### 1. 对话编辑功能
- 点击"添加对话轮次"按钮添加用户和AI对话各一条
- 点击头像切换角色（用户/AI助手/系统）
- 点击对话内容，自动展开文本框，编辑对话内容
- 对话展开后，侧边会显示操作按钮（删除、上移、下移、切换角色、编辑）
- 点击"导入对话"按钮，可以导入已有JSON格式对话列表[覆盖当前对话]
- 点击"清空所有对话"按钮，可以清空当前所有对话[无法撤销]

### 2. API设置功能
- 在API设置中选择AI模型提供商（支持火山方舟、阿里云百炼、OpenAI、Anthropic、Google Gemini、智谱AI）
- 选择具体模型（每个提供商提供多个模型可选）
- 输入API密钥并点击"保存API密钥"按钮
- API密钥仅存储于本地浏览器缓存，请注意安全保管
- 如需增删厂商/大模型列表，请在外部文件model-config.js中修改

### 3. AI生成功能
- 在左侧编辑好对话内容后，点击"AI生成"按钮生成AI回复
- 生成结果会显示在右侧预览区
- 支持"重新生成"和"清空结果"功能
- 生成结果可以直接插入到对话列表中
- 支持深度思考显示，可查看AI的思考过程

### 4. 预览和JSON生成功能
#### 预览模式切换
- 在右侧预览区可切换编辑模式和预览模式
  - 编辑模式：直接编辑AI生成的Markdown内容
  - 预览模式：渲染显示Markdown格式的生成结果

#### JSON生成功能
- 点击"生成JSON"按钮，将当前对话转换为JSON格式
- 生成的JSON可直接在大模型平台的对话框中粘贴使用
- 点击"复制到剪贴板"按钮，可复制生成的JSON

### 5. 历史记录管理功能
- AI生成结果自动保存到本地历史记录中
- 最多可保存100条历史记录，超出自动清理旧记录
- 点击历史记录按钮，可查看、编辑、删除历史记录
- 支持将历史记录下载为Markdown格式文件
- 历史记录按时间顺序排列，便于查找

### 6. 对话管理功能
- 对话会自动保存为JSON格式到本地存储
- 最多可保存50个对话存档，每个存档包含模型和API提供商元数据
- 点击对话管理按钮，可查看、编辑、删除对话存档
- 支持对话存档的导出和导入功能，便于跨设备迁移
- 每个存档可自定义名称，便于区分不同对话场景

### 7. 主题和模式切换
- 点击右上角的主题切换按钮，可切换浅色/深色主题
- 主题偏好会自动保存到本地存储
- 在AI预览区可切换编辑模式和预览模式
  - 编辑模式适合直接修改内容，预览模式适合查看渲染效果

### 8. 注意事项
- 删除对话操作无法撤销，请谨慎操作
- API密钥仅存储于本地，不会上传到服务器
- 清空所有对话操作无法撤销，请谨慎操作
- 导入对话会覆盖当前所有对话，请提前备份
- 历史记录和对话存档仅存储于本地，建议定期导出备份

## 更新日志

# 更新日志
## v1.1.0 (2025-12-03)
- 新增智谱AI API接入，支持12个智谱AI模型（GLM-4.6、GLM-4.5等）
- 实现AI生成历史记录保存功能，自动将生成结果保存到localStorage
- 支持历史记录管理，包括查看、编辑、删除和下载历史记录（Markdown格式）
- 最多可保存100条历史记录，超出自动清理旧记录
- 新增对话管理功能，支持自动保存完整对话为JSON格式到localStorage
- 支持对话存档的导出和导入功能，便于跨设备迁移
- 最多可保存50个对话存档，每个存档包含模型和API提供商元数据
- 优化垂直操作按钮定位，使其更贴近对话框，提升视觉体验
- 修复不同角色下按钮对齐问题，确保所有角色按钮位置一致
- 修复滚动条显示问题，实现默认隐藏、hover显示的优雅设计
- 确保滚动条在直接打开HTML文件时也能正常工作
- 统一所有区域滚动条样式，保持界面风格一致
- 修复系统角色按钮定位问题，确保与其他角色保持一致
- 优化按钮组显示逻辑，确保点击文本框时按钮平滑显示

### v1.0.0 (2025-11-30)
- 初始版本发布
- 支持多轮对话编辑
- 支持多种AI模型提供商
- 支持深度思考显示
- 支持对话JSON导入导出
- 支持深色/浅色主题切换
